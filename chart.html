<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
   
    // array of json objects
    var classmate_data = [
      {
        'name'      : 'John',
        'shadow'    : 'no',
        'galic'     : 'no',
        'complexion': 'pale'
      },
      {
        'name'      : 'Lee',
        'shadow'    : 'yes',
        'galic'     : 'no',
        'complexion': 'pale'
      },
      {
        'name'      : 'Emma',
        'shadow'    : 'no',
        'galic'     : 'yes',
        'complexion': 'brown'
      },
      {
        'name'      : 'Ava',
        'shadow'    : 'yes',
        'galic'     : 'yes',
        'complexion': 'olive '
      },
      {
        'name'      : 'Alex',
        'shadow'    : 'no',
        'galic'     : 'no',
        'complexion': 'brown'
      },
    ]; 

    google.charts.load('current', {'packages':['corechart']});

    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      var data = new google.visualization.DataTable();

      classmate_data_processing(data);

  
      // Set chart options
      var options = {'title':'How many vampires in the class?',
                     'width':400,
                     'height':300};

      var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
      chart.draw(data, options);
    }

    function classmate_data_processing(result_data){

      var num_human = 0;
      var num_vampire = 0;
      for (var i =  0; i <= classmate_data.length - 1; i++) {
        // logic based on shadow 
        if(classmate_data[i]['shadow'] == 'no'){
          num_vampire ++;
        }
        else{
          num_human ++;
        }
      }
      // Create the data table.
      result_data.addColumn('string', 'Element');
      result_data.addColumn('number', 'Count');
      result_data.addRows([     
        ['Human', num_human],
        ['Vampire', num_vampire]
      ]);

    }
  </script>
</head>
<body>

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <ul class="nav navbar-nav">
      <li><a href="default.html">Introductions</a></li>
      <li><a href="table.html">Classmates</a></li>
      <li><a href="vampire.html">Show Vampires</a></li>
      <li class="active"><a href="chart.html">Piechart</a></li>
    </ul>
  </div>
</nav>

  <div id="chart_div"></div>
</body>
</html> 
